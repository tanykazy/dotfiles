#!/bin/bash

# for terminus font in Archlinux :(
#xset +fp /usr/share/fonts/local
#xset fp rehash

#xset -b # disable bell
#eval `/usr/bin/ssh-agent`

#if test -f /usr/lib/openssh/x11-ssh-askpass # Archlinux
#then
#	SSH_ASKPASS=/usr/lib/openssh/x11-ssh-askpass ssh-add < /dev/null
#fi

#if test -f /usr/lib/ssh/x11-ssh-askpass # Debian
#then
#	SSH_ASKPASS=/usr/lib/ssh/x11-ssh-askpass ssh-add < /dev/null
#fi


#xrdb -merge -I$HOME .Xresources
#xrdb -merge ~/.Xresources
#[[ -f ~/.Xresources ]] && xrdb -merge -I$HOME ~/.Xresources
#xmodmap ~/.Xmodmap
setxkbmap -option ctrl:nocaps


xbindkeys_autostart

while true
do
	LOCALTIME="$(date)"
	BATTERY="$(acpi -b)"
	IP=$(for i in `ip r`; do echo $i; done | grep -A 1 src | tail -n1) # can get confused if you use vmware
	xsetroot -name "${IP} ${LOCALTIME} ${BATTERY}"
#	wmname "$LOCALTIME"
#	slstatus
	sleep 1s
done &

